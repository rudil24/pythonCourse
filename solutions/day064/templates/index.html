{% extends 'base.html' %}

{% block content %}
<div class="text-center">
    <h1 class="display-4">My Top 10 Movies</h1>
    <p class="lead">These are my all-time favourites.</p>
</div>

<div class="row justify-content-center">
    <div class="col-md-8">
        {% for movie in movies %}
        <div class="card" style="height: 250px;">
            <div class="card-inner">
                <div class="front">
                    <img src="{{ movie.image_url }}" class="movie_img" alt="{{ movie.title }}">
                    <div class="movie_info">
                        <h2>{{ movie.ranking }}. {{ movie.title }}</h2>
                        <p>{{ movie.year }}</p>
                        <p>{{ movie.description[:150] }}...</p>
                    </div>
                </div>
                <div class="back">
                    <div>
                        <div class="rating_circle">Site Dev's Rating: â˜… {{ movie.rating }}</div>
                        <p class="review">Site Dev's Review: {{ movie.review }}</p>
                    </div>
                    <div class="movie-actions">
                        <a href="{{ url_for('rate_movie', id=movie.id) }}" class="btn btn-warning">Update</a>
                        <a href="{{ url_for('delete_movie', id=movie.id) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this movie?');">Delete</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
        <div class="text-center mt-4 mb-5">
            <a href="{{ url_for('add_movie') }}" class="btn btn-primary btn-lg">Add Movie</a>
        </div>
    </div>
</div>
{% endblock %}